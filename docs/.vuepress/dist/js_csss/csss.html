<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CSSS!脚本 | Sciter</title>
    <meta name="description" content="基于原sciter文档的优化">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/logo.ico">
    
    <link rel="preload" href="/assets/css/0.styles.14df8ef2.css" as="style"><link rel="preload" href="/assets/js/app.564cc181.js" as="script"><link rel="preload" href="/assets/js/2.f091b61c.js" as="script"><link rel="preload" href="/assets/js/53.3fcbaa64.js" as="script"><link rel="prefetch" href="/assets/js/10.af124683.js"><link rel="prefetch" href="/assets/js/100.5ab51366.js"><link rel="prefetch" href="/assets/js/101.73480f3b.js"><link rel="prefetch" href="/assets/js/102.a5499c76.js"><link rel="prefetch" href="/assets/js/103.7ec3eb8c.js"><link rel="prefetch" href="/assets/js/104.e203cded.js"><link rel="prefetch" href="/assets/js/105.582369e0.js"><link rel="prefetch" href="/assets/js/106.d9976ea1.js"><link rel="prefetch" href="/assets/js/107.11196d12.js"><link rel="prefetch" href="/assets/js/108.bb762804.js"><link rel="prefetch" href="/assets/js/109.4d40e2e3.js"><link rel="prefetch" href="/assets/js/11.fa52c1f8.js"><link rel="prefetch" href="/assets/js/110.cc341f8f.js"><link rel="prefetch" href="/assets/js/111.5f20a0b6.js"><link rel="prefetch" href="/assets/js/112.c7dc0813.js"><link rel="prefetch" href="/assets/js/113.2fe52324.js"><link rel="prefetch" href="/assets/js/114.c6e125d2.js"><link rel="prefetch" href="/assets/js/115.026faf48.js"><link rel="prefetch" href="/assets/js/116.73b47b7c.js"><link rel="prefetch" href="/assets/js/117.ec3176a2.js"><link rel="prefetch" href="/assets/js/118.ac9d6ac6.js"><link rel="prefetch" href="/assets/js/119.8c5f3f2b.js"><link rel="prefetch" href="/assets/js/12.0c9cea57.js"><link rel="prefetch" href="/assets/js/120.0ceb7cb8.js"><link rel="prefetch" href="/assets/js/121.a19c5adb.js"><link rel="prefetch" href="/assets/js/122.eb3c9d50.js"><link rel="prefetch" href="/assets/js/123.09f7e4ac.js"><link rel="prefetch" href="/assets/js/124.8c32b6b4.js"><link rel="prefetch" href="/assets/js/125.f29b97e2.js"><link rel="prefetch" href="/assets/js/126.3d7f9c1a.js"><link rel="prefetch" href="/assets/js/127.f0381b50.js"><link rel="prefetch" href="/assets/js/128.de05fc4c.js"><link rel="prefetch" href="/assets/js/129.d6327862.js"><link rel="prefetch" href="/assets/js/13.47f1333b.js"><link rel="prefetch" href="/assets/js/130.e1fec9b6.js"><link rel="prefetch" href="/assets/js/131.9e3a3b8b.js"><link rel="prefetch" href="/assets/js/132.526b5014.js"><link rel="prefetch" href="/assets/js/14.5ed6fac0.js"><link rel="prefetch" href="/assets/js/15.66c031fc.js"><link rel="prefetch" href="/assets/js/16.483a32da.js"><link rel="prefetch" href="/assets/js/17.5bc8ec71.js"><link rel="prefetch" href="/assets/js/18.cc0be206.js"><link rel="prefetch" href="/assets/js/19.9b62ebaa.js"><link rel="prefetch" href="/assets/js/20.a98c0798.js"><link rel="prefetch" href="/assets/js/21.86eafb47.js"><link rel="prefetch" href="/assets/js/22.2ef500e6.js"><link rel="prefetch" href="/assets/js/23.6de00dfe.js"><link rel="prefetch" href="/assets/js/24.16a567cd.js"><link rel="prefetch" href="/assets/js/25.0bf66006.js"><link rel="prefetch" href="/assets/js/26.234f4e33.js"><link rel="prefetch" href="/assets/js/27.fb2e3402.js"><link rel="prefetch" href="/assets/js/28.34708c8e.js"><link rel="prefetch" href="/assets/js/29.4d8eada1.js"><link rel="prefetch" href="/assets/js/3.7ea26f66.js"><link rel="prefetch" href="/assets/js/30.5bb415f0.js"><link rel="prefetch" href="/assets/js/31.c8263b90.js"><link rel="prefetch" href="/assets/js/32.bd415599.js"><link rel="prefetch" href="/assets/js/33.b8d389da.js"><link rel="prefetch" href="/assets/js/34.571c55ba.js"><link rel="prefetch" href="/assets/js/35.8a7f87ba.js"><link rel="prefetch" href="/assets/js/36.2c423e72.js"><link rel="prefetch" href="/assets/js/37.a2681ec0.js"><link rel="prefetch" href="/assets/js/38.dc8aa28e.js"><link rel="prefetch" href="/assets/js/39.5a7dd89c.js"><link rel="prefetch" href="/assets/js/4.06aa2ba4.js"><link rel="prefetch" href="/assets/js/40.d2b61e41.js"><link rel="prefetch" href="/assets/js/41.59f2dfc7.js"><link rel="prefetch" href="/assets/js/42.d46543cd.js"><link rel="prefetch" href="/assets/js/43.6b81d626.js"><link rel="prefetch" href="/assets/js/44.341a01e1.js"><link rel="prefetch" href="/assets/js/45.66ba9b81.js"><link rel="prefetch" href="/assets/js/46.85555c41.js"><link rel="prefetch" href="/assets/js/47.1ca8e86a.js"><link rel="prefetch" href="/assets/js/48.46147d01.js"><link rel="prefetch" href="/assets/js/49.75982250.js"><link rel="prefetch" href="/assets/js/5.1e4da9ad.js"><link rel="prefetch" href="/assets/js/50.7786bf4b.js"><link rel="prefetch" href="/assets/js/51.0de21788.js"><link rel="prefetch" href="/assets/js/52.b110917a.js"><link rel="prefetch" href="/assets/js/54.aa936ba4.js"><link rel="prefetch" href="/assets/js/55.127a283f.js"><link rel="prefetch" href="/assets/js/56.02aa113c.js"><link rel="prefetch" href="/assets/js/57.2663e0f5.js"><link rel="prefetch" href="/assets/js/58.31453605.js"><link rel="prefetch" href="/assets/js/59.8ac9b41e.js"><link rel="prefetch" href="/assets/js/6.b14fd999.js"><link rel="prefetch" href="/assets/js/60.90153ab7.js"><link rel="prefetch" href="/assets/js/61.d84ae66c.js"><link rel="prefetch" href="/assets/js/62.922faf2e.js"><link rel="prefetch" href="/assets/js/63.8cb5e321.js"><link rel="prefetch" href="/assets/js/64.7871bcde.js"><link rel="prefetch" href="/assets/js/65.f46c424d.js"><link rel="prefetch" href="/assets/js/66.d83bc39d.js"><link rel="prefetch" href="/assets/js/67.22fdfbb1.js"><link rel="prefetch" href="/assets/js/68.7132c8db.js"><link rel="prefetch" href="/assets/js/69.13d9c6d1.js"><link rel="prefetch" href="/assets/js/7.54fa0855.js"><link rel="prefetch" href="/assets/js/70.7780c499.js"><link rel="prefetch" href="/assets/js/71.4c8d9981.js"><link rel="prefetch" href="/assets/js/72.17f1724d.js"><link rel="prefetch" href="/assets/js/73.6d4c2dd4.js"><link rel="prefetch" href="/assets/js/74.6a821f95.js"><link rel="prefetch" href="/assets/js/75.55dfc4a1.js"><link rel="prefetch" href="/assets/js/76.8cc122c5.js"><link rel="prefetch" href="/assets/js/77.1df9f769.js"><link rel="prefetch" href="/assets/js/78.3020e71e.js"><link rel="prefetch" href="/assets/js/79.cf5a3c2b.js"><link rel="prefetch" href="/assets/js/8.45807cfe.js"><link rel="prefetch" href="/assets/js/80.947c33a2.js"><link rel="prefetch" href="/assets/js/81.9e6efe5e.js"><link rel="prefetch" href="/assets/js/82.1caaed8d.js"><link rel="prefetch" href="/assets/js/83.1e809725.js"><link rel="prefetch" href="/assets/js/84.78c7ad84.js"><link rel="prefetch" href="/assets/js/85.17081e42.js"><link rel="prefetch" href="/assets/js/86.c73525b1.js"><link rel="prefetch" href="/assets/js/87.9e892dfd.js"><link rel="prefetch" href="/assets/js/88.2c43e781.js"><link rel="prefetch" href="/assets/js/89.52220a8d.js"><link rel="prefetch" href="/assets/js/9.53ff3b6e.js"><link rel="prefetch" href="/assets/js/90.274e597e.js"><link rel="prefetch" href="/assets/js/91.2c6aed2e.js"><link rel="prefetch" href="/assets/js/92.2a80d761.js"><link rel="prefetch" href="/assets/js/93.d49cf83b.js"><link rel="prefetch" href="/assets/js/94.f6dc69cc.js"><link rel="prefetch" href="/assets/js/95.d9e1bb1f.js"><link rel="prefetch" href="/assets/js/96.fa64258f.js"><link rel="prefetch" href="/assets/js/97.7dac506d.js"><link rel="prefetch" href="/assets/js/98.fd9b5a4b.js"><link rel="prefetch" href="/assets/js/99.91fc7337.js">
    <link rel="stylesheet" href="/assets/css/0.styles.14df8ef2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sciter</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/css/css_properties_map.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/Dom/Element.html" class="nav-link">
  Dom类
</a></div><div class="nav-item"><a href="/tiscript/tiscript_article.html" class="nav-link">
  脚本(TIScript)
</a></div><div class="nav-item"><a href="/runtime/Global.html" class="nav-link">
  脚本运行时
</a></div><div class="nav-item"><a href="/js/buttonClass.html" class="nav-link">
  行为
</a></div><div class="nav-item"><a href="/store/Formation.html" class="nav-link">
  脚本库
</a></div><div class="nav-item"><a href="/js_csss/csss.html" class="nav-link router-link-exact-active router-link-active">
  脚本(CSSS!)
</a></div><div class="nav-item"><a href="/other/standalone_Sciter_executable.html" class="nav-link">
  其他内容
</a></div><div class="nav-item"><a href="/localApi/window.html" class="nav-link">
  本地API
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/css/css_properties_map.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/Dom/Element.html" class="nav-link">
  Dom类
</a></div><div class="nav-item"><a href="/tiscript/tiscript_article.html" class="nav-link">
  脚本(TIScript)
</a></div><div class="nav-item"><a href="/runtime/Global.html" class="nav-link">
  脚本运行时
</a></div><div class="nav-item"><a href="/js/buttonClass.html" class="nav-link">
  行为
</a></div><div class="nav-item"><a href="/store/Formation.html" class="nav-link">
  脚本库
</a></div><div class="nav-item"><a href="/js_csss/csss.html" class="nav-link router-link-exact-active router-link-active">
  脚本(CSSS!)
</a></div><div class="nav-item"><a href="/other/standalone_Sciter_executable.html" class="nav-link">
  其他内容
</a></div><div class="nav-item"><a href="/localApi/window.html" class="nav-link">
  本地API
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/js_csss/csss.html" class="active sidebar-link">CSSS!脚本</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js_csss/csss.html#csss-css脚本-语言" class="sidebar-link">CSSS!(CSS脚本)语言</a></li></ul></li><li><a href="/js_csss/csss_events.html" class="sidebar-link">CSSS!事件</a></li><li><a href="/js_csss/csss_calc_function.html" class="sidebar-link">CSSS!的calc函数</a></li><li><a href="/js_csss/csss_dom_object.html" class="sidebar-link">CSSS!的DOM对象</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="csss-脚本"><a href="#csss-脚本" class="header-anchor">#</a> CSSS!脚本</h1> <h2 id="csss-css脚本-语言"><a href="#csss-css脚本-语言" class="header-anchor">#</a> CSSS!(CSS脚本)语言</h2> <h3 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h3> <p>CSSS!是对传统的CSS(层叠样式表)的脚本化扩展，它使CSS有了可以给某些元素定义一些基本行为样式。</p> <div>CSSS!可以出现在:
    <ul><li>a) 属性名以'!'结尾的标记;</li> <li>b) 在<a href="csss!-calc-function.htm"><code>calc()</code></a>函数内部。</li></ul></div> <p>这里是h-smile引擎支持的<a href="csss!-events.htm">CSS属性的有效规则列表。</a></p> <p>示例, 下面这个是&lt; label for=&quot;id&quot;&gt; 的一个功能实现，这个功能也可以适用定义了for=&quot;id&quot;属性的元素:</p> <pre><code>   [for]
   {
     hover-on!  : $1(#&lt; self.for &gt;):hover = true;
     hover-off! : $1(#&lt; self.for &gt;):hover = false;
     active-on! : $1(#&lt; self.for &gt;):focus = true;
     cursor:pointer;
   }
   input:hover
   {
     outline: 4px glow blue 1px;
   }
</code></pre> <p><code>hover-on</code>和<code>hover-off</code>规则使label的绑定元素获取<em>:hover</em>状态。所以当鼠标悬停在label上时等同于停留在绑定元素上。<code>active-on!:</code>规则使绑定元素获取焦点。</p> <p><code>$1(...)</code>的含义参见下面的<em>Selector pseudo-functions</em>章节。</p> <h3 id="csss-语法"><a href="#csss-语法" class="header-anchor">#</a> CSSS!语法</h3> <p>CSSS!嵌入到宿主CSS语法中。CSSS!中使用标识符/构造器有些限制，CSSS!语句中不能使用';'、'{'和'}'标识符。';'标识符作为CSSS!脚本的结束标志。</p> <h3>标识符</h3> <p>标识符(nmtokens)以字母、'-'、'_'或'$'字符开头，后面跟着一些字母、'-'、'_'、'$'或数字([0-9])。注意'-'标识符, 因为是CSS语法，所以这个字符也可以作为名称的一部分。为了解决与减号'-'的冲突，减号两边必须有空格符。</p> <pre class="code"><code>nmtoken -&gt; [a-zA-Z_\-$]+[a-zA-Z_\-$0-9]*
</code></pre> <h3>关键字</h3> <p>CSSS!可以有以下关键字:</p> <pre><code>true   false   null   self
</code></pre> <h3><a name="operators" id="operators">操作符</a></h3> <pre class="code"><code>&lt;     &gt;     &lt;=    ==    !=    &gt;=    &amp;&amp;    ||
+     -     *     /     %     ^     |     &amp;
</code></pre> <p>[tbd]</p> <p>下个版本要支持的操作符:</p> <pre><code>~=    ~/    ~%    %~    /~
</code></pre> <p>三元操作符: </p> <pre><code>&lt;条件&gt; <strong>?</strong> &lt;true-部分&gt; [ <strong>#</strong> &lt;false-部分&gt; ]
</code></pre> <p>注意，三元操作符可以作为条件语句(if ... then ... else ...):</p> <code>self:value &gt; 12 ?( self:current = true, self.scroll-to-view())</code>; - 如果<em>self</em>元素的valueֵ值大于12，则设置self为当前元素，并将该元素滚动到视图。
  <h3>数据类型</h3> <p>CSSS!是一种无类型语言。所有变量可以设置下面的这些类型的值:</p> <ul><li>null - 无值;</li> <li><em>boolean</em> 有两个值: true和false;</li> <li><em>integer</em> - 32位有符号整数;</li> <li><em>float</em> - 64位浮点数;</li> <li><em>string</em> - UNICODE字符串;</li> <li><em>object</em> - DOM元素的引用;</li> <li><em>object-set</em> - 特别的对象，它表示一个DOM元素集合。$()函数返回这样的值。</li> <li><em>function-reference</em> - CSSS!中声明的函数引用。</li></ul> <p>不支持聚合类型(如数组)。</p> <h3>字面值</h3> <p>接受整数、浮点数、字符串、<strong>长度单位</strong>和正则表达式:</p> <pre class="code"><code>整数描述 -&gt; [0-9]+ | '0x' [0-9A-Fa-f]+ | ''' 字符 ''' | key-code-literal
  浮点数描述 -&gt; [0-9]+ '.' [0-9]+
  浮点数描述 -&gt; [0-9]+ '.' 'e'|'E' '+'|'-' [0-9]+
  字符串描述 -&gt; '&quot;' [.]* '&quot;'
  正则表达式描述 -&gt; '/' &lt;单行正则表达式&gt; ['/ig'] ';'
  长度单位描述 -&gt; &lt;整数描述&gt; | &lt;浮点数描述&gt; 后面立即跟着:
                   'pt' | 'px' | 'pc' | '%' | 'em' | 'ex' | 'in' | 'cm' | 'mm'
</code></pre> <p><em>Key-code-literal</em>是以单引号括住的字符串，可以为以下值:</p> <code>'RETURN' | 'LEFT' | 'RIGHT' | 'UP' | 'DOWN' | 'PRIOR' | 'NEXT' | 'TAB' | 'HOME' | 'END' | 'DELETE' | 'INSERT' | 'BACK'</code> <p>要定义类似Ctrl+X的组合键，请在按键的预定义名称前以'^'字符开头。</p> <p>示例:</p> <pre class="code"><code>            34 - 整数
    0xAFED1234 - 整数
          1.52 - 浮点数
          1.e2 - 浮点数
         1.e-2 - 浮点数
&quot;Hello world!&quot; - 字符串
          12pt - 长度值，这是表示12像素
           'A' - 字符'A'的代码, 整数
</code></pre><em>key-code-literal</em>的数量s:
  <pre><code>key-on!:
  key-code() == '^A'? ... # // 按下Ctrl+A
  key-code() == '^NEXT'? ... ; // 按下Ctrl+PgDown
</code></pre> <h3><a name="comments" id="comments">注释</a></h3> <p>注释是一个被编译器忽略的字符序列。有两种类型的注释:</p> <ul>单行注释:</ul> <pre class="code"><code>'//' &lt;text-no-crlf&gt; end-of-line
</code></pre> <ul>多行注释:</ul> <pre class="code"><code>'/*' &lt;text&gt; '*/'
</code></pre> <h3 id="语句"><a href="#语句" class="header-anchor">#</a> 语句</h3> <p>CSSS!程序是一个由逗号(',')分隔的语句序列，并且脚本结尾以';'结束。CSSS!脚本支持以下语句:</p> <h4>赋值:</h4> <pre><code>&lt;左表达式&gt; '=' &lt;表达式&gt;.
</code></pre> <h4>声明变量:</h4> <pre><code>&lt;变量名&gt; <strong>'='</strong> &lt;表达式&gt;
</code></pre> <h4>语句块</h4> <p>语句块是一个以逗号分隔的表达式列表:</p> <pre><code><strong>'('</strong> &lt;表达式&gt; [, &lt;表达式&gt;]* <strong>')'</strong>
</code></pre> <p>语句块的值等于列表中最后一个表达式的值</p> <h4>条件语句</h4> <pre><code>&lt;逻辑表达式&gt; <strong>'?'</strong> &lt;当true时的表达式&gt; [ <strong>'#'</strong> &lt;当false时的表达式&gt; ]
</code></pre> <p>逻辑表达式用于求值，求值为true时，则对'?'右边的表达式进行求值，否则对'#'右边的表达式进行求值。'#'右边的部分可以省略。</p> <h4>循环</h4> <p>CSSS!不支持循环(不过提供了一种函数中的尾递归功能可以实现类似的功能)。</p> <h4>返回语句</h4> <p><code>return</code>语句用于函数中返回值:</p> <pre><code>return &lt;返回的值或表达式&gt;
</code></pre> <h4>For each枚举</h4> <pre><code>&lt;object-set&gt; <strong>'-&gt;'</strong> &lt;有一个参数的函数引用&gt;
</code></pre> <p>枚举用于为左边object-set中的每个元素调用一个函数。object-set由伪函数$()、$p()和$c()产生——满足括号中选择器的DOM元素集合。</p> <p>示例:</p> <pre><code>     input.number
     {
       value-changed! :
         total = 0,
         $(input.number) -&gt; @(el) total = total + el:value,
         $1(td#total):value = total;
     }
</code></pre> <p>上面的代码的含义:</p> <p>当一些<code>&lt;input class=&quot;number&quot;&gt;</code>元素的值修改时，做以下部分:</p> <ul><li>初始化total变量为0。</li> <li>声明函数<code>@(el) total = total + el:value</code>。</li> <li>为所有满足<code>input.number</code>选择器的DOM元素调用这个函数</li> <li>将total赋值给第一个满足<code>td#total</code>选择器的元素。</li></ul> <h4>DOM属性和状态访问</h4> <p>DOM元素的属性可以使用'.'语句来访问:</p> <pre><code>&lt;object-or-object-set&gt; '.' &lt;attribute-name&gt;
</code></pre> <p>示例, 对于<code>&lt;input type=&quot;text&quot;&gt;</code>元素，下面的代码:</p> <pre><code>t = self.type
</code></pre> <p>将会返回DOM元素名为&quot;type&quot;的属性的值(这里值是文本)，并且将它赋值给变量t。</p> <p>DOM元素的State字段(运行期值)可以通过下面的语句访问:</p> <pre><code>&lt;object-or-object-set&gt; ':' &lt;state-name&gt;
</code></pre> <p>其中，state-name是CSS可识别的一个状态标识的名称: :hover, :active, :link, :checked, :current等。</p> <h4>CSS属性访问</h4> <p>DOM元素的CSS属性可以通过'::'语句来访问:</p> <pre><code>&lt;object&gt; '::' &lt;css-attribute-name&gt;
</code></pre> <p>示例, 下面的计时器事件处理函数中将会逐渐时元素变得透明:</p> <pre><code>     timer!: self::opacity &lt; 1.0?
               self::opacity = self::opacity + 0.1 #
               return cancel;
</code></pre> <h3 id="self"><a href="#self" class="header-anchor">#</a> Self</h3> <p><code>self</code>关键字指代规则应用的<a href="csss!-dom-object.htm">对象(DOM元素)</a>。</p> <h3 id="cancel"><a href="#cancel" class="header-anchor">#</a> Cancel</h3> <p><code>cancel</code>关键字一个特殊值，用于return语句，用于运行期停止事件继续传播。</p> <h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <p>CSSS!只支持(故意的)匿名自定义函数。</p> <h4>函数声明</h4> <p>函数使用以下语句声明:</p> <pre><code>'@(' &lt;参数列表&gt; ')' &lt;语句&gt; | &lt;语句块&gt;
</code></pre> <p>其中，<code>&lt;参数列表&gt;</code>是一个以逗号分隔的名称列表。</p> <p>函数可以赋值给变量:</p> <pre><code>foo = @(p1, p2) p1 + p2, ...</code></pre> <pre><code>foo = @(p1, p2) (p1 + p2, ...), ...</code></pre> <p>声明的函数有p1和p2两个参数，和p1 + p2或(p1 + p2, ...)函数体，并且将函数引用赋值给foo变量。</p> <h4>函数调用</h4> <p>调用函数的语句为:</p> <pre><code>&lt;variable&gt; <strong>'('</strong> &lt;expression-1&gt; , ... &lt;expression-n&gt; <strong>')'</strong>
</code></pre> <p>示例, 下面的代码将会调用上面的foo函数，并且将函数的返回值设置到bar变量:</p> <pre><code>bar = foo(1,2)
</code></pre> <h3 id="全局函数"><a href="#全局函数" class="header-anchor">#</a> 全局函数</h3> <h3>选择器函数</h3> <p>有两个全局函数:</p> <ol><li><code><strong>$</strong>(selector)</code><strong> - </strong>全局选择元素，<code>:root</code>为文档的根元素。</li> <li><code><strong>$1</strong>(selector)</code> - returns <a href="csss!-dom-object.htm">object</a> - 匹配选择器的第一个元素。<code>:root</code>为文档的根元素。</li></ol> <p>$()函数返回一个选择的DOM元素的集合(可能为空)。$1()函数返回一个DOM元素——匹配选择器的第一个元素。</p> <p>选择器函数支持拼接值，格式为:<code>$( ... &lt;value&gt; ... )</code>, 其中，值包含'&lt;'和'&gt;括号。</p> <p>示例, 下面的语句:</p> <pre><code>ncol = 2, $( table td:nth-child(&lt; ncol &gt;)).some-attr = &quot;hi!&quot;;
</code></pre> <p>将会为所有满足<code>table td:nth-child(2)</code>选择器的元素的<em>some-attr</em>属性设置值为&quot;hi!&quot;。</p> <h3>其他函数</h3> <ul><li><code><strong>int</strong>(val)</code>- 转换val的值为整数;</li> <li><code><strong>float</strong>(val)</code>- 转换val的值为浮点数;</li> <li><code><strong>length</strong>(val)</code> - 转换val的值为length单位值;</li> <li><code><strong>min</strong>(val1, val2 ... valN)</code>- 返回参数中的最小值;</li> <li><code><strong>max</strong>(val1, val2 ... valN)</code>- 返回参数中的最大值;</li> <li><code><strong>limit</strong>(val, minval, maxval)</code> - 如果var在[minval...maxval]范围内则返回val，如果var小于minval则返回minval，否则返回maxval。</li></ul> <h3>String对象的属性和方法</h3> <ul><li><code><em>string</em><strong>.length</strong></code> - 属性, string对象的长度;</li> <li><code><em>string</em><strong>.toUpper()</strong></code> - 方法, 字符串的大写形式版本;</li> <li><code><em>string</em><strong>.toLower()</strong></code> - 方法, 字符串的小写形式版本;</li> <li><code><em>string</em><strong>.substr(</strong>start[, length = -1]<strong>)</strong></code> - 方法, 返回一个子字符串，如果length小于0，则返回字符串的其余部分。</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/js_csss/csss_events.html">
        CSSS!事件
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.564cc181.js" defer></script><script src="/assets/js/2.f091b61c.js" defer></script><script src="/assets/js/53.3fcbaa64.js" defer></script>
  </body>
</html>
